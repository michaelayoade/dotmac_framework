[Unit]
Description=DotMac Simple Backup
Documentation=https://docs.dotmac.com/operations/backup
After=docker.service postgresql.service
Wants=postgresql.service

[Service]
Type=oneshot
User=dotmac
WorkingDirectory=/home/dotmac_framework
ExecStart=/home/dotmac_framework/scripts/simple-backup.sh backup
EnvironmentFile=-/home/dotmac_framework/.env
StandardOutput=journal
StandardError=journal

# Timeout after 2 hours
TimeoutStartSec=7200

[Install]
WantedBy=multi-user.target