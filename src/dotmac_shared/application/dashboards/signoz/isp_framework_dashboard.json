{
  "title": "ISP Framework Overview",
  "tags": ["dotmac", "isp", "overview"],
  "panels": [
    {
      "title": "HTTP Requests (rate)",
      "type": "timeseries",
      "queries": [
        {
          "metricName": "http_requests_total",
          "operation": "RATE",
          "legend": "{method} {endpoint}",
          "filters": {"service": "isp-framework"},
          "groupBy": ["method", "endpoint"]
        }
      ]
    },
    {
      "title": "HTTP Request Duration P95",
      "type": "timeseries",
      "queries": [
        {
          "metricName": "http_request_duration_seconds",
          "operation": "P95",
          "legend": "p95",
          "filters": {"service": "isp-framework"}
        }
      ]
    },
    {
      "title": "Login Success Rate",
      "type": "timeseries",
      "queries": [
        {"metricName": "login_success_rate_success", "operation": "RATE", "as": "s"},
        {"metricName": "login_success_rate_total", "operation": "RATE", "as": "t"}
      ],
      "formula": "s / t",
      "legend": "Login Success Rate"
    },
    {
      "title": "Provisioning Duration P95",
      "type": "timeseries",
      "queries": [
        {"metricName": "provisioning_duration_seconds", "operation": "P95", "legend": "p95"}
      ]
    }
  ]
}

