665f1811b05242bb1586d0214fc03090
/**
 * Environment Setup for Tests
 * Set environment variables and configuration for testing
 */ // Set NODE_ENV to test
"use strict";
process.env.NODE_ENV = "test";
// App configuration
process.env.NEXT_PUBLIC_APP_NAME = "DotMac Tenant Portal";
process.env.NEXT_PUBLIC_APP_VERSION = "1.0.0";
process.env.NEXT_PUBLIC_PORTAL_TYPE = "tenant";
process.env.NEXT_PUBLIC_ENVIRONMENT = "test";
// API configuration
process.env.MANAGEMENT_API_URL = "http://localhost:8000";
process.env.NEXT_PUBLIC_MANAGEMENT_API_URL = "http://localhost:8000";
process.env.NEXT_PUBLIC_WS_URL = "ws://localhost:8001";
// Site configuration
process.env.NEXT_PUBLIC_SITE_URL = "http://localhost:3003";
// Security configuration (test values - not for production)
process.env.JWT_SECRET_KEY = "test-jwt-secret-key-for-testing-only-32-chars";
process.env.SESSION_SECRET = "test-session-secret-for-testing-only-32-chars";
process.env.CSRF_SECRET = "test-csrf-secret-for-testing-only-32-chars";
process.env.SESSION_MAX_AGE = "3600"; // 1 hour
// Demo configuration (enabled for tests)
process.env.DEMO_ENABLED = "true";
process.env.DEMO_ADMIN_EMAIL = "admin@test-tenant.local";
process.env.DEMO_ADMIN_PASSWORD = "TestPassword123!";
process.env.DEMO_USER_EMAIL = "user@test-tenant.local";
process.env.DEMO_USER_PASSWORD = "TestUser123!";
process.env.DEMO_TENANT_ID = "test_tenant_12345";
process.env.DEMO_TENANT_NAME = "test-tenant";
process.env.DEMO_TENANT_DISPLAY = "Test ISP Solutions";
// Feature flags (all enabled for comprehensive testing)
process.env.NEXT_PUBLIC_FEATURE_BILLING_ENABLED = "true";
process.env.NEXT_PUBLIC_FEATURE_ANALYTICS_ENABLED = "true";
process.env.NEXT_PUBLIC_FEATURE_SUPPORT_CHAT = "true";
process.env.NEXT_PUBLIC_FEATURE_MFA_ENABLED = "true";
// Development settings
process.env.DEBUG = "true";
process.env.NEXT_PUBLIC_DEBUG = "true";
process.env.MOCK_API_ENABLED = "true";
process.env.MOCK_DELAY_MS = "0"; // No delay in tests
// Rate limiting (relaxed for tests)
process.env.RATE_LIMIT_LOGIN_ATTEMPTS = "100";
process.env.RATE_LIMIT_WINDOW_MS = "60000";
// CSP configuration
process.env.CSP_REPORT_ONLY = "true";
process.env.CSP_REPORT_URI = "/api/csp-report";
// Contact information
process.env.NEXT_PUBLIC_SUPPORT_EMAIL = "support@test.local";
process.env.NEXT_PUBLIC_SUPPORT_PHONE = "+1-800-TEST";
// Logging
process.env.LOG_LEVEL = "debug";
process.env.LOG_FORMAT = "dev";
// External services (disabled for tests)
process.env.SENTRY_DSN = "";
process.env.NEXT_PUBLIC_ANALYTICS_ID = "";
// Test-specific configurations
process.env.TEST_TIMEOUT = "30000"; // 30 seconds
process.env.TEST_DATABASE_URL = "sqlite::memory:";
process.env.TEST_REDIS_URL = "redis://localhost:6379/15"; // Use DB 15 for tests

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RvdG1hY19mcmFtZXdvcmsvZnJvbnRlbmQvYXBwcy90ZW5hbnQtcG9ydGFsL3NyYy9fX3Rlc3RzX18vZW52LXNldHVwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRW52aXJvbm1lbnQgU2V0dXAgZm9yIFRlc3RzXG4gKiBTZXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFuZCBjb25maWd1cmF0aW9uIGZvciB0ZXN0aW5nXG4gKi9cblxuLy8gU2V0IE5PREVfRU5WIHRvIHRlc3RcbnByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xuXG4vLyBBcHAgY29uZmlndXJhdGlvblxucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX05BTUUgPSAnRG90TWFjIFRlbmFudCBQb3J0YWwnO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1ZFUlNJT04gPSAnMS4wLjAnO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUE9SVEFMX1RZUEUgPSAndGVuYW50JztcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VOVklST05NRU5UID0gJ3Rlc3QnO1xuXG4vLyBBUEkgY29uZmlndXJhdGlvblxucHJvY2Vzcy5lbnYuTUFOQUdFTUVOVF9BUElfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQU5BR0VNRU5UX0FQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dTX1VSTCA9ICd3czovL2xvY2FsaG9zdDo4MDAxJztcblxuLy8gU2l0ZSBjb25maWd1cmF0aW9uXG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TSVRFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDMnO1xuXG4vLyBTZWN1cml0eSBjb25maWd1cmF0aW9uICh0ZXN0IHZhbHVlcyAtIG5vdCBmb3IgcHJvZHVjdGlvbilcbnByb2Nlc3MuZW52LkpXVF9TRUNSRVRfS0VZID0gJ3Rlc3Qtand0LXNlY3JldC1rZXktZm9yLXRlc3Rpbmctb25seS0zMi1jaGFycyc7XG5wcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVCA9ICd0ZXN0LXNlc3Npb24tc2VjcmV0LWZvci10ZXN0aW5nLW9ubHktMzItY2hhcnMnO1xucHJvY2Vzcy5lbnYuQ1NSRl9TRUNSRVQgPSAndGVzdC1jc3JmLXNlY3JldC1mb3ItdGVzdGluZy1vbmx5LTMyLWNoYXJzJztcbnByb2Nlc3MuZW52LlNFU1NJT05fTUFYX0FHRSA9ICczNjAwJzsgLy8gMSBob3VyXG5cbi8vIERlbW8gY29uZmlndXJhdGlvbiAoZW5hYmxlZCBmb3IgdGVzdHMpXG5wcm9jZXNzLmVudi5ERU1PX0VOQUJMRUQgPSAndHJ1ZSc7XG5wcm9jZXNzLmVudi5ERU1PX0FETUlOX0VNQUlMID0gJ2FkbWluQHRlc3QtdGVuYW50LmxvY2FsJztcbnByb2Nlc3MuZW52LkRFTU9fQURNSU5fUEFTU1dPUkQgPSAnVGVzdFBhc3N3b3JkMTIzISc7XG5wcm9jZXNzLmVudi5ERU1PX1VTRVJfRU1BSUwgPSAndXNlckB0ZXN0LXRlbmFudC5sb2NhbCc7XG5wcm9jZXNzLmVudi5ERU1PX1VTRVJfUEFTU1dPUkQgPSAnVGVzdFVzZXIxMjMhJztcbnByb2Nlc3MuZW52LkRFTU9fVEVOQU5UX0lEID0gJ3Rlc3RfdGVuYW50XzEyMzQ1JztcbnByb2Nlc3MuZW52LkRFTU9fVEVOQU5UX05BTUUgPSAndGVzdC10ZW5hbnQnO1xucHJvY2Vzcy5lbnYuREVNT19URU5BTlRfRElTUExBWSA9ICdUZXN0IElTUCBTb2x1dGlvbnMnO1xuXG4vLyBGZWF0dXJlIGZsYWdzIChhbGwgZW5hYmxlZCBmb3IgY29tcHJlaGVuc2l2ZSB0ZXN0aW5nKVxucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRkVBVFVSRV9CSUxMSU5HX0VOQUJMRUQgPSAndHJ1ZSc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GRUFUVVJFX0FOQUxZVElDU19FTkFCTEVEID0gJ3RydWUnO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRkVBVFVSRV9TVVBQT1JUX0NIQVQgPSAndHJ1ZSc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GRUFUVVJFX01GQV9FTkFCTEVEID0gJ3RydWUnO1xuXG4vLyBEZXZlbG9wbWVudCBzZXR0aW5nc1xucHJvY2Vzcy5lbnYuREVCVUcgPSAndHJ1ZSc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ERUJVRyA9ICd0cnVlJztcbnByb2Nlc3MuZW52Lk1PQ0tfQVBJX0VOQUJMRUQgPSAndHJ1ZSc7XG5wcm9jZXNzLmVudi5NT0NLX0RFTEFZX01TID0gJzAnOyAvLyBObyBkZWxheSBpbiB0ZXN0c1xuXG4vLyBSYXRlIGxpbWl0aW5nIChyZWxheGVkIGZvciB0ZXN0cylcbnByb2Nlc3MuZW52LlJBVEVfTElNSVRfTE9HSU5fQVRURU1QVFMgPSAnMTAwJztcbnByb2Nlc3MuZW52LlJBVEVfTElNSVRfV0lORE9XX01TID0gJzYwMDAwJztcblxuLy8gQ1NQIGNvbmZpZ3VyYXRpb25cbnByb2Nlc3MuZW52LkNTUF9SRVBPUlRfT05MWSA9ICd0cnVlJztcbnByb2Nlc3MuZW52LkNTUF9SRVBPUlRfVVJJID0gJy9hcGkvY3NwLXJlcG9ydCc7XG5cbi8vIENvbnRhY3QgaW5mb3JtYXRpb25cbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUFBPUlRfRU1BSUwgPSAnc3VwcG9ydEB0ZXN0LmxvY2FsJztcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUFBPUlRfUEhPTkUgPSAnKzEtODAwLVRFU1QnO1xuXG4vLyBMb2dnaW5nXG5wcm9jZXNzLmVudi5MT0dfTEVWRUwgPSAnZGVidWcnO1xucHJvY2Vzcy5lbnYuTE9HX0ZPUk1BVCA9ICdkZXYnO1xuXG4vLyBFeHRlcm5hbCBzZXJ2aWNlcyAoZGlzYWJsZWQgZm9yIHRlc3RzKVxucHJvY2Vzcy5lbnYuU0VOVFJZX0RTTiA9ICcnO1xucHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQU5BTFlUSUNTX0lEID0gJyc7XG5cbi8vIFRlc3Qtc3BlY2lmaWMgY29uZmlndXJhdGlvbnNcbnByb2Nlc3MuZW52LlRFU1RfVElNRU9VVCA9ICczMDAwMCc7IC8vIDMwIHNlY29uZHNcbnByb2Nlc3MuZW52LlRFU1RfREFUQUJBU0VfVVJMID0gJ3NxbGl0ZTo6bWVtb3J5Oic7XG5wcm9jZXNzLmVudi5URVNUX1JFRElTX1VSTCA9ICdyZWRpczovL2xvY2FsaG9zdDo2Mzc5LzE1JzsgLy8gVXNlIERCIDE1IGZvciB0ZXN0cyJdLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJORVhUX1BVQkxJQ19BUFBfTkFNRSIsIk5FWFRfUFVCTElDX0FQUF9WRVJTSU9OIiwiTkVYVF9QVUJMSUNfUE9SVEFMX1RZUEUiLCJORVhUX1BVQkxJQ19FTlZJUk9OTUVOVCIsIk1BTkFHRU1FTlRfQVBJX1VSTCIsIk5FWFRfUFVCTElDX01BTkFHRU1FTlRfQVBJX1VSTCIsIk5FWFRfUFVCTElDX1dTX1VSTCIsIk5FWFRfUFVCTElDX1NJVEVfVVJMIiwiSldUX1NFQ1JFVF9LRVkiLCJTRVNTSU9OX1NFQ1JFVCIsIkNTUkZfU0VDUkVUIiwiU0VTU0lPTl9NQVhfQUdFIiwiREVNT19FTkFCTEVEIiwiREVNT19BRE1JTl9FTUFJTCIsIkRFTU9fQURNSU5fUEFTU1dPUkQiLCJERU1PX1VTRVJfRU1BSUwiLCJERU1PX1VTRVJfUEFTU1dPUkQiLCJERU1PX1RFTkFOVF9JRCIsIkRFTU9fVEVOQU5UX05BTUUiLCJERU1PX1RFTkFOVF9ESVNQTEFZIiwiTkVYVF9QVUJMSUNfRkVBVFVSRV9CSUxMSU5HX0VOQUJMRUQiLCJORVhUX1BVQkxJQ19GRUFUVVJFX0FOQUxZVElDU19FTkFCTEVEIiwiTkVYVF9QVUJMSUNfRkVBVFVSRV9TVVBQT1JUX0NIQVQiLCJORVhUX1BVQkxJQ19GRUFUVVJFX01GQV9FTkFCTEVEIiwiREVCVUciLCJORVhUX1BVQkxJQ19ERUJVRyIsIk1PQ0tfQVBJX0VOQUJMRUQiLCJNT0NLX0RFTEFZX01TIiwiUkFURV9MSU1JVF9MT0dJTl9BVFRFTVBUUyIsIlJBVEVfTElNSVRfV0lORE9XX01TIiwiQ1NQX1JFUE9SVF9PTkxZIiwiQ1NQX1JFUE9SVF9VUkkiLCJORVhUX1BVQkxJQ19TVVBQT1JUX0VNQUlMIiwiTkVYVF9QVUJMSUNfU1VQUE9SVF9QSE9ORSIsIkxPR19MRVZFTCIsIkxPR19GT1JNQVQiLCJTRU5UUllfRFNOIiwiTkVYVF9QVUJMSUNfQU5BTFlUSUNTX0lEIiwiVEVTVF9USU1FT1VUIiwiVEVTVF9EQVRBQkFTRV9VUkwiLCJURVNUX1JFRElTX1VSTCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDLEdBRUQsdUJBQXVCOztBQUN2QkEsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEdBQUc7QUFFdkIsb0JBQW9CO0FBQ3BCRixRQUFRQyxHQUFHLENBQUNFLG9CQUFvQixHQUFHO0FBQ25DSCxRQUFRQyxHQUFHLENBQUNHLHVCQUF1QixHQUFHO0FBQ3RDSixRQUFRQyxHQUFHLENBQUNJLHVCQUF1QixHQUFHO0FBQ3RDTCxRQUFRQyxHQUFHLENBQUNLLHVCQUF1QixHQUFHO0FBRXRDLG9CQUFvQjtBQUNwQk4sUUFBUUMsR0FBRyxDQUFDTSxrQkFBa0IsR0FBRztBQUNqQ1AsUUFBUUMsR0FBRyxDQUFDTyw4QkFBOEIsR0FBRztBQUM3Q1IsUUFBUUMsR0FBRyxDQUFDUSxrQkFBa0IsR0FBRztBQUVqQyxxQkFBcUI7QUFDckJULFFBQVFDLEdBQUcsQ0FBQ1Msb0JBQW9CLEdBQUc7QUFFbkMsNERBQTREO0FBQzVEVixRQUFRQyxHQUFHLENBQUNVLGNBQWMsR0FBRztBQUM3QlgsUUFBUUMsR0FBRyxDQUFDVyxjQUFjLEdBQUc7QUFDN0JaLFFBQVFDLEdBQUcsQ0FBQ1ksV0FBVyxHQUFHO0FBQzFCYixRQUFRQyxHQUFHLENBQUNhLGVBQWUsR0FBRyxRQUFRLFNBQVM7QUFFL0MseUNBQXlDO0FBQ3pDZCxRQUFRQyxHQUFHLENBQUNjLFlBQVksR0FBRztBQUMzQmYsUUFBUUMsR0FBRyxDQUFDZSxnQkFBZ0IsR0FBRztBQUMvQmhCLFFBQVFDLEdBQUcsQ0FBQ2dCLG1CQUFtQixHQUFHO0FBQ2xDakIsUUFBUUMsR0FBRyxDQUFDaUIsZUFBZSxHQUFHO0FBQzlCbEIsUUFBUUMsR0FBRyxDQUFDa0Isa0JBQWtCLEdBQUc7QUFDakNuQixRQUFRQyxHQUFHLENBQUNtQixjQUFjLEdBQUc7QUFDN0JwQixRQUFRQyxHQUFHLENBQUNvQixnQkFBZ0IsR0FBRztBQUMvQnJCLFFBQVFDLEdBQUcsQ0FBQ3FCLG1CQUFtQixHQUFHO0FBRWxDLHdEQUF3RDtBQUN4RHRCLFFBQVFDLEdBQUcsQ0FBQ3NCLG1DQUFtQyxHQUFHO0FBQ2xEdkIsUUFBUUMsR0FBRyxDQUFDdUIscUNBQXFDLEdBQUc7QUFDcER4QixRQUFRQyxHQUFHLENBQUN3QixnQ0FBZ0MsR0FBRztBQUMvQ3pCLFFBQVFDLEdBQUcsQ0FBQ3lCLCtCQUErQixHQUFHO0FBRTlDLHVCQUF1QjtBQUN2QjFCLFFBQVFDLEdBQUcsQ0FBQzBCLEtBQUssR0FBRztBQUNwQjNCLFFBQVFDLEdBQUcsQ0FBQzJCLGlCQUFpQixHQUFHO0FBQ2hDNUIsUUFBUUMsR0FBRyxDQUFDNEIsZ0JBQWdCLEdBQUc7QUFDL0I3QixRQUFRQyxHQUFHLENBQUM2QixhQUFhLEdBQUcsS0FBSyxvQkFBb0I7QUFFckQsb0NBQW9DO0FBQ3BDOUIsUUFBUUMsR0FBRyxDQUFDOEIseUJBQXlCLEdBQUc7QUFDeEMvQixRQUFRQyxHQUFHLENBQUMrQixvQkFBb0IsR0FBRztBQUVuQyxvQkFBb0I7QUFDcEJoQyxRQUFRQyxHQUFHLENBQUNnQyxlQUFlLEdBQUc7QUFDOUJqQyxRQUFRQyxHQUFHLENBQUNpQyxjQUFjLEdBQUc7QUFFN0Isc0JBQXNCO0FBQ3RCbEMsUUFBUUMsR0FBRyxDQUFDa0MseUJBQXlCLEdBQUc7QUFDeENuQyxRQUFRQyxHQUFHLENBQUNtQyx5QkFBeUIsR0FBRztBQUV4QyxVQUFVO0FBQ1ZwQyxRQUFRQyxHQUFHLENBQUNvQyxTQUFTLEdBQUc7QUFDeEJyQyxRQUFRQyxHQUFHLENBQUNxQyxVQUFVLEdBQUc7QUFFekIseUNBQXlDO0FBQ3pDdEMsUUFBUUMsR0FBRyxDQUFDc0MsVUFBVSxHQUFHO0FBQ3pCdkMsUUFBUUMsR0FBRyxDQUFDdUMsd0JBQXdCLEdBQUc7QUFFdkMsK0JBQStCO0FBQy9CeEMsUUFBUUMsR0FBRyxDQUFDd0MsWUFBWSxHQUFHLFNBQVMsYUFBYTtBQUNqRHpDLFFBQVFDLEdBQUcsQ0FBQ3lDLGlCQUFpQixHQUFHO0FBQ2hDMUMsUUFBUUMsR0FBRyxDQUFDMEMsY0FBYyxHQUFHLDZCQUE2QixzQkFBc0IifQ==