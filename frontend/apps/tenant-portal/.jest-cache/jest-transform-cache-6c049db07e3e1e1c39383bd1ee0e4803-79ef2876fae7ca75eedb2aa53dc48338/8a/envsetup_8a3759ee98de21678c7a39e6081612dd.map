{"version":3,"sources":["/home/dotmac_framework/frontend/apps/tenant-portal/src/__tests__/env-setup.ts"],"sourcesContent":["/**\n * Environment Setup for Tests\n * Set environment variables and configuration for testing\n */\n\n// Set NODE_ENV to test\nprocess.env.NODE_ENV = 'test';\n\n// App configuration\nprocess.env.NEXT_PUBLIC_APP_NAME = 'DotMac Tenant Portal';\nprocess.env.NEXT_PUBLIC_APP_VERSION = '1.0.0';\nprocess.env.NEXT_PUBLIC_PORTAL_TYPE = 'tenant';\nprocess.env.NEXT_PUBLIC_ENVIRONMENT = 'test';\n\n// API configuration\nprocess.env.MANAGEMENT_API_URL = 'http://localhost:8000';\nprocess.env.NEXT_PUBLIC_MANAGEMENT_API_URL = 'http://localhost:8000';\nprocess.env.NEXT_PUBLIC_WS_URL = 'ws://localhost:8001';\n\n// Site configuration\nprocess.env.NEXT_PUBLIC_SITE_URL = 'http://localhost:3003';\n\n// Security configuration (test values - not for production)\nprocess.env.JWT_SECRET_KEY = 'test-jwt-secret-key-for-testing-only-32-chars';\nprocess.env.SESSION_SECRET = 'test-session-secret-for-testing-only-32-chars';\nprocess.env.CSRF_SECRET = 'test-csrf-secret-for-testing-only-32-chars';\nprocess.env.SESSION_MAX_AGE = '3600'; // 1 hour\n\n// Demo configuration (enabled for tests)\nprocess.env.DEMO_ENABLED = 'true';\nprocess.env.DEMO_ADMIN_EMAIL = 'admin@test-tenant.local';\nprocess.env.DEMO_ADMIN_PASSWORD = 'TestPassword123!';\nprocess.env.DEMO_USER_EMAIL = 'user@test-tenant.local';\nprocess.env.DEMO_USER_PASSWORD = 'TestUser123!';\nprocess.env.DEMO_TENANT_ID = 'test_tenant_12345';\nprocess.env.DEMO_TENANT_NAME = 'test-tenant';\nprocess.env.DEMO_TENANT_DISPLAY = 'Test ISP Solutions';\n\n// Feature flags (all enabled for comprehensive testing)\nprocess.env.NEXT_PUBLIC_FEATURE_BILLING_ENABLED = 'true';\nprocess.env.NEXT_PUBLIC_FEATURE_ANALYTICS_ENABLED = 'true';\nprocess.env.NEXT_PUBLIC_FEATURE_SUPPORT_CHAT = 'true';\nprocess.env.NEXT_PUBLIC_FEATURE_MFA_ENABLED = 'true';\n\n// Development settings\nprocess.env.DEBUG = 'true';\nprocess.env.NEXT_PUBLIC_DEBUG = 'true';\nprocess.env.MOCK_API_ENABLED = 'true';\nprocess.env.MOCK_DELAY_MS = '0'; // No delay in tests\n\n// Rate limiting (relaxed for tests)\nprocess.env.RATE_LIMIT_LOGIN_ATTEMPTS = '100';\nprocess.env.RATE_LIMIT_WINDOW_MS = '60000';\n\n// CSP configuration\nprocess.env.CSP_REPORT_ONLY = 'true';\nprocess.env.CSP_REPORT_URI = '/api/csp-report';\n\n// Contact information\nprocess.env.NEXT_PUBLIC_SUPPORT_EMAIL = 'support@test.local';\nprocess.env.NEXT_PUBLIC_SUPPORT_PHONE = '+1-800-TEST';\n\n// Logging\nprocess.env.LOG_LEVEL = 'debug';\nprocess.env.LOG_FORMAT = 'dev';\n\n// External services (disabled for tests)\nprocess.env.SENTRY_DSN = '';\nprocess.env.NEXT_PUBLIC_ANALYTICS_ID = '';\n\n// Test-specific configurations\nprocess.env.TEST_TIMEOUT = '30000'; // 30 seconds\nprocess.env.TEST_DATABASE_URL = 'sqlite::memory:';\nprocess.env.TEST_REDIS_URL = 'redis://localhost:6379/15'; // Use DB 15 for tests"],"names":["process","env","NODE_ENV","NEXT_PUBLIC_APP_NAME","NEXT_PUBLIC_APP_VERSION","NEXT_PUBLIC_PORTAL_TYPE","NEXT_PUBLIC_ENVIRONMENT","MANAGEMENT_API_URL","NEXT_PUBLIC_MANAGEMENT_API_URL","NEXT_PUBLIC_WS_URL","NEXT_PUBLIC_SITE_URL","JWT_SECRET_KEY","SESSION_SECRET","CSRF_SECRET","SESSION_MAX_AGE","DEMO_ENABLED","DEMO_ADMIN_EMAIL","DEMO_ADMIN_PASSWORD","DEMO_USER_EMAIL","DEMO_USER_PASSWORD","DEMO_TENANT_ID","DEMO_TENANT_NAME","DEMO_TENANT_DISPLAY","NEXT_PUBLIC_FEATURE_BILLING_ENABLED","NEXT_PUBLIC_FEATURE_ANALYTICS_ENABLED","NEXT_PUBLIC_FEATURE_SUPPORT_CHAT","NEXT_PUBLIC_FEATURE_MFA_ENABLED","DEBUG","NEXT_PUBLIC_DEBUG","MOCK_API_ENABLED","MOCK_DELAY_MS","RATE_LIMIT_LOGIN_ATTEMPTS","RATE_LIMIT_WINDOW_MS","CSP_REPORT_ONLY","CSP_REPORT_URI","NEXT_PUBLIC_SUPPORT_EMAIL","NEXT_PUBLIC_SUPPORT_PHONE","LOG_LEVEL","LOG_FORMAT","SENTRY_DSN","NEXT_PUBLIC_ANALYTICS_ID","TEST_TIMEOUT","TEST_DATABASE_URL","TEST_REDIS_URL"],"mappings":"AAAA;;;CAGC,GAED,uBAAuB;;AACvBA,QAAQC,GAAG,CAACC,QAAQ,GAAG;AAEvB,oBAAoB;AACpBF,QAAQC,GAAG,CAACE,oBAAoB,GAAG;AACnCH,QAAQC,GAAG,CAACG,uBAAuB,GAAG;AACtCJ,QAAQC,GAAG,CAACI,uBAAuB,GAAG;AACtCL,QAAQC,GAAG,CAACK,uBAAuB,GAAG;AAEtC,oBAAoB;AACpBN,QAAQC,GAAG,CAACM,kBAAkB,GAAG;AACjCP,QAAQC,GAAG,CAACO,8BAA8B,GAAG;AAC7CR,QAAQC,GAAG,CAACQ,kBAAkB,GAAG;AAEjC,qBAAqB;AACrBT,QAAQC,GAAG,CAACS,oBAAoB,GAAG;AAEnC,4DAA4D;AAC5DV,QAAQC,GAAG,CAACU,cAAc,GAAG;AAC7BX,QAAQC,GAAG,CAACW,cAAc,GAAG;AAC7BZ,QAAQC,GAAG,CAACY,WAAW,GAAG;AAC1Bb,QAAQC,GAAG,CAACa,eAAe,GAAG,QAAQ,SAAS;AAE/C,yCAAyC;AACzCd,QAAQC,GAAG,CAACc,YAAY,GAAG;AAC3Bf,QAAQC,GAAG,CAACe,gBAAgB,GAAG;AAC/BhB,QAAQC,GAAG,CAACgB,mBAAmB,GAAG;AAClCjB,QAAQC,GAAG,CAACiB,eAAe,GAAG;AAC9BlB,QAAQC,GAAG,CAACkB,kBAAkB,GAAG;AACjCnB,QAAQC,GAAG,CAACmB,cAAc,GAAG;AAC7BpB,QAAQC,GAAG,CAACoB,gBAAgB,GAAG;AAC/BrB,QAAQC,GAAG,CAACqB,mBAAmB,GAAG;AAElC,wDAAwD;AACxDtB,QAAQC,GAAG,CAACsB,mCAAmC,GAAG;AAClDvB,QAAQC,GAAG,CAACuB,qCAAqC,GAAG;AACpDxB,QAAQC,GAAG,CAACwB,gCAAgC,GAAG;AAC/CzB,QAAQC,GAAG,CAACyB,+BAA+B,GAAG;AAE9C,uBAAuB;AACvB1B,QAAQC,GAAG,CAAC0B,KAAK,GAAG;AACpB3B,QAAQC,GAAG,CAAC2B,iBAAiB,GAAG;AAChC5B,QAAQC,GAAG,CAAC4B,gBAAgB,GAAG;AAC/B7B,QAAQC,GAAG,CAAC6B,aAAa,GAAG,KAAK,oBAAoB;AAErD,oCAAoC;AACpC9B,QAAQC,GAAG,CAAC8B,yBAAyB,GAAG;AACxC/B,QAAQC,GAAG,CAAC+B,oBAAoB,GAAG;AAEnC,oBAAoB;AACpBhC,QAAQC,GAAG,CAACgC,eAAe,GAAG;AAC9BjC,QAAQC,GAAG,CAACiC,cAAc,GAAG;AAE7B,sBAAsB;AACtBlC,QAAQC,GAAG,CAACkC,yBAAyB,GAAG;AACxCnC,QAAQC,GAAG,CAACmC,yBAAyB,GAAG;AAExC,UAAU;AACVpC,QAAQC,GAAG,CAACoC,SAAS,GAAG;AACxBrC,QAAQC,GAAG,CAACqC,UAAU,GAAG;AAEzB,yCAAyC;AACzCtC,QAAQC,GAAG,CAACsC,UAAU,GAAG;AACzBvC,QAAQC,GAAG,CAACuC,wBAAwB,GAAG;AAEvC,+BAA+B;AAC/BxC,QAAQC,GAAG,CAACwC,YAAY,GAAG,SAAS,aAAa;AACjDzC,QAAQC,GAAG,CAACyC,iBAAiB,GAAG;AAChC1C,QAAQC,GAAG,CAAC0C,cAAc,GAAG,6BAA6B,sBAAsB"}