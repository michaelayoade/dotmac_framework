{
  "service_standards": {
    "version": "1.0.0",
    "description": "Standardized service patterns for DotMac framework",
    "patterns": {
      "required": {
        "base_class": "BaseTenantService",
        "async_methods": true,
        "schema_validation": true,
        "error_handling": "standardized",
        "business_rules": "hooks_pattern"
      },
      "deprecated": {
        "classes": [
          "modules.*.services.*.BillingService",
          "modules.*.domain.*.CustomerService",
          "modules.*.services.*.CustomerService"
        ],
        "patterns": [
          "class.*Service.*:\\s*def __init__.*Session.*:",
          "from.*\\.services\\..* import.*Service"
        ]
      },
      "mandatory_imports": [
        "from dotmac_isp.shared.base_service import BaseTenantService",
        "from dotmac_isp.shared.exceptions import ServiceError, ValidationError"
      ]
    },
    "rules": {
      "service_naming": {
        "pattern": "^[A-Z][a-zA-Z0-9]*Service$",
        "examples": ["BillingService", "CustomerService", "InventoryService"]
      },
      "file_structure": {
        "main_service": "modules/{module}/service.py",
        "deprecated_locations": [
          "modules/{module}/services/{service}.py",
          "modules/{module}/domain/{service}.py"
        ]
      },
      "async_patterns": {
        "required_methods": [
          "create", "get_by_id", "update", "delete", "list"
        ],
        "hook_methods": [
          "_validate_create_rules", "_validate_update_rules", "_validate_delete_rules",
          "_pre_create_hook", "_post_create_hook"
        ]
      }
    },
    "migration_guide": {
      "steps": [
        "1. Move service to modules/{module}/service.py",
        "2. Inherit from BaseTenantService",
        "3. Use async methods throughout",
        "4. Implement business rule hooks",
        "5. Add deprecation warnings to old services",
        "6. Update all imports"
      ],
      "tools": {
        "generator": "isp-framework/src/dotmac_isp/shared/service_generator.py",
        "adapter": "isp-framework/src/dotmac_isp/shared/async_service_adapter.py"
      }
    }
  }
}